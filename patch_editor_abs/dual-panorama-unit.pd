#N struct 1361-rectangle float x float c;
#N struct 1361-pixel float x0 float y0 float x1 float y1;
#N struct 1380-rectangle float x float c;
#N struct 1380-pixel float x0 float y0 float x1 float y1;
#N canvas 1366 56 1920 1024 10;
#X declare -lib moonlib;
#X declare -path ../other_patches;
#X obj 101 103 cnv 15 428 314 empty empty DUAL-PANORAMA-UNIT_3203 10
35 0 15 -233017 -66577 0;
#X obj 555 15 inlet~ A;
#X obj 705 16 inlet~ B;
#X obj 1002 27 inlet~ one;
#X obj 1109 27 inlet~ two;
#X obj 1206 26 inlet~ three;
#X obj 1305 26 inlet~ four;
#X obj 556 94 outlet~ A;
#X obj 706 95 outlet~ B;
#X obj 1031 931 outlet~ one;
#X obj 1133 933 outlet~ two;
#X obj 1259 935 outlet~ three;
#X obj 1416 938 outlet~ four;
#X obj 23 16 declare -lib moonlib;
#X obj 22 40 declare -path ../other_patches;
#X text 118 104 A;
#X text 183 104 B;
#X text 118 400 A;
#X text 183 400 B;
#X text 268 400 1;
#X text 352 400 2;
#X text 437 400 3;
#X text 516 400 4;
#X text 257 104 X_A;
#X text 341 104 Y_A;
#X text 426 104 X_B;
#X text 505 104 Y_B;
#X obj 556 43 s~ \$0-pano-bus-A;
#X obj 705 42 s~ \$0-pano-bus-B;
#X obj 41 565 loadbang;
#X obj 41 611 unpack f f f f;
#X obj 68 637 pack f f f;
#X obj 148 668 s \$0-pano-setup;
#X obj 41 668 s \$0-pano-colour;
#X text 213 39 needed for xy.pd;
#X obj 344 33 r \$0-pano-colour;
#X obj 450 33 r \$0-pano-setup;
#X floatatom 183 331 5 0 0 0 - #0-pano-Ax-r #0-pano-Ax-s;
#X floatatom 229 331 5 0 0 0 - #0-pano-Ay-r #0-pano-Ay-s;
#X text 189 350 X;
#X text 239 351 Y;
#X text 217 195 A;
#X text 283 197 2;
#X text 150 196 1;
#X text 152 317 3;
#X text 279 314 4;
#X obj 1002 53 s~ \$0-pano-ch1;
#X obj 1109 53 s~ \$0-pano-ch2;
#X obj 1206 53 s~ \$0-pano-ch3;
#X obj 1304 53 s~ \$0-pano-ch4;
#X obj 556 69 r~ \$0-pano-bus-A;
#X obj 706 69 r~ \$0-pano-bus-B;
#X text 772 150 A PANO;
#X obj 656 481 s \$0-pano-Ax-r;
#X obj 838 478 s \$0-pano-Ay-r;
#X msg 41 588 1 102 102 1;
#X obj 173 216 xy;
#X obj 173 435 unpack s f f;
#X obj 197 462 pack f f;
#X obj 197 488 s \$0-pano-A;
#X obj 758 229 unpack f f;
#X obj 758 204 r \$0-pano-A;
#X obj 656 267 expr if($f1 > 100 \, 100 \, $f1);
#X obj 838 267 expr if($f1 > 100 \, 100 \, $f1);
#X floatatom 363 329 5 0 0 0 - #0-pano-Bx-r #0-pano-Bx-s;
#X floatatom 409 329 5 0 0 0 - #0-pano-By-r #0-pano-By-s;
#X text 369 348 X;
#X text 419 349 Y;
#X text 394 198 A;
#X text 460 200 2;
#X text 327 199 1;
#X text 329 320 3;
#X text 456 317 4;
#X obj 350 438 unpack s f f;
#X obj 374 465 pack f f;
#X obj 351 216 xy;
#X text 997 179 Calculate (x \, y);
#X obj 1224 237 unpack f f;
#X obj 1122 275 expr if($f1 > 100 \, 100 \, $f1);
#X obj 1304 275 expr if($f1 > 100 \, 100 \, $f1);
#X text 1239 158 B PANO;
#X obj 1224 212 r \$0-pano-B;
#X obj 1122 485 s \$0-pano-Bx-r;
#X obj 1304 485 s \$0-pano-By-r;
#X obj 374 491 s \$0-pano-B;
#X obj 685 633 r~ \$0-pano-bus-A;
#X obj 754 740 *~;
#X obj 805 739 *~;
#X obj 700 740 *~;
#X obj 859 741 *~;
#N canvas 31 162 450 300 calcVolume 0;
#X obj 132 18 inlet;
#X obj 202 20 inlet;
#X obj 142 240 outlet, f 7;
#X obj 142 207 pack f f f f;
#X obj 165 75 *;
#X text 65 64 q1;
#X text 167 50 q2;
#X text 257 33 q3;
#X text 343 64 q4;
#X obj 231 57 - 1;
#X obj 266 58 - 1;
#X obj 233 83 abs;
#X obj 270 84 abs;
#X obj 255 131 *;
#X obj 61 85 - 1;
#X obj 65 111 abs;
#X obj 73 147 *;
#X obj 352 94 - 1;
#X obj 355 131 abs;
#X obj 352 166 *;
#X connect 0 0 4 0;
#X connect 0 0 9 0;
#X connect 0 0 14 0;
#X connect 0 0 19 0;
#X connect 1 0 4 1;
#X connect 1 0 10 0;
#X connect 1 0 16 1;
#X connect 1 0 17 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 3 2;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 3 0;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 19 0 3 3;
#X restore 730 339 pd calcVolume;
#X obj 801 633 r \$0-pano-res-A;
#X obj 730 376 s \$0-pano-res-A;
#X obj 801 656 unpack f f f f;
#X obj 1031 863 r~ \$0-pano-out1-A;
#X obj 908 795 s~ \$0-pano-out4-A;
#X obj 798 795 s~ \$0-pano-out3-A;
#X obj 687 794 s~ \$0-pano-out2-A;
#X obj 575 794 s~ \$0-pano-out1-A;
#X obj 1164 866 r~ \$0-pano-out2-A;
#X obj 1321 867 r~ \$0-pano-out3-A;
#X obj 1493 870 r~ \$0-pano-out4-A;
#X obj 1232 735 *~;
#X obj 1283 734 *~;
#X obj 1178 735 *~;
#X obj 1337 736 *~;
#X obj 1279 651 unpack f f f f;
#X obj 1163 628 r~ \$0-pano-bus-B;
#X obj 1279 628 r \$0-pano-res-B;
#X obj 1053 789 s~ \$0-pano-out1-B;
#X obj 1165 789 s~ \$0-pano-out2-B;
#X obj 1275 790 s~ \$0-pano-out3-B;
#X obj 1386 790 s~ \$0-pano-out4-B;
#X obj 1039 886 r~ \$0-pano-out1-B;
#X obj 1164 888 r~ \$0-pano-out2-B;
#X obj 1321 889 r~ \$0-pano-out3-B;
#X obj 1493 893 r~ \$0-pano-out4-B;
#X obj 1193 367 s \$0-pano-res-B;
#X text 45 542 SETUP SQUARES;
#X text 356 82 TO DO - These four inlets...;
#N canvas 3 56 450 300 calcVolume 0;
#X obj 132 18 inlet;
#X obj 202 20 inlet;
#X obj 142 240 outlet, f 7;
#X obj 142 207 pack f f f f;
#X obj 165 75 *;
#X text 65 64 q1;
#X text 167 50 q2;
#X text 257 33 q3;
#X text 343 64 q4;
#X obj 231 57 - 1;
#X obj 266 58 - 1;
#X obj 233 83 abs;
#X obj 270 84 abs;
#X obj 255 131 *;
#X obj 61 85 - 1;
#X obj 65 111 abs;
#X obj 73 147 *;
#X obj 352 94 - 1;
#X obj 355 131 abs;
#X obj 352 166 *;
#X connect 0 0 4 0;
#X connect 0 0 9 0;
#X connect 0 0 14 0;
#X connect 0 0 19 0;
#X connect 1 0 4 1;
#X connect 1 0 10 0;
#X connect 1 0 16 1;
#X connect 1 0 17 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 3 2;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 3 0;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 19 0 3 3;
#X restore 1194 337 pd calcVolume;
#X obj 879 329 unpack f f f f;
#X floatatom 878 365 5 0 0 0 - - -;
#X floatatom 913 365 5 0 0 0 - - -;
#X floatatom 949 365 5 0 0 0 - - -;
#X floatatom 984 365 5 0 0 0 - - -;
#X text 878 383 for debugging purposes;
#X obj 656 290 expr $f1/100;
#X obj 839 290 expr $f1/100;
#X obj 1122 299 expr $f1/100;
#X obj 1304 298 expr $f1/100;
#X obj 656 450 expr ($f1 - 50)/50;
#X obj 838 448 expr ($f1 - 50)/50;
#X text 663 427 get UI (x \, y) in range [-1 \, 1];
#X obj 1122 459 expr ($f1 - 50)/50;
#X obj 1304 456 expr ($f1 - 50)/50;
#X text 1128 434 get UI (x \, y) in range [-1 \, 1];
#X text 884 576 Change volume accordingly for each channel;
#X connect 1 0 27 0;
#X connect 2 0 28 0;
#X connect 3 0 46 0;
#X connect 4 0 47 0;
#X connect 5 0 48 0;
#X connect 6 0 49 0;
#X connect 29 0 55 0;
#X connect 30 0 33 0;
#X connect 30 1 31 0;
#X connect 30 2 31 1;
#X connect 30 3 31 2;
#X connect 31 0 32 0;
#X connect 35 0 56 0;
#X connect 35 0 75 0;
#X connect 36 0 56 1;
#X connect 36 0 75 1;
#X connect 50 0 7 0;
#X connect 51 0 8 0;
#X connect 55 0 30 0;
#X connect 56 0 57 0;
#X connect 57 1 58 0;
#X connect 57 2 58 1;
#X connect 58 0 59 0;
#X connect 60 0 62 0;
#X connect 60 1 63 0;
#X connect 61 0 60 0;
#X connect 62 0 127 0;
#X connect 62 0 131 0;
#X connect 63 0 128 0;
#X connect 63 0 132 0;
#X connect 73 1 74 0;
#X connect 73 2 74 1;
#X connect 74 0 84 0;
#X connect 75 0 73 0;
#X connect 77 0 78 0;
#X connect 77 1 79 0;
#X connect 78 0 129 0;
#X connect 78 0 134 0;
#X connect 79 0 130 0;
#X connect 79 0 135 0;
#X connect 81 0 77 0;
#X connect 85 0 86 0;
#X connect 85 0 87 0;
#X connect 85 0 88 0;
#X connect 85 0 89 0;
#X connect 86 0 97 0;
#X connect 87 0 96 0;
#X connect 88 0 98 0;
#X connect 89 0 95 0;
#X connect 90 0 121 0;
#X connect 91 0 93 0;
#X connect 93 0 88 1;
#X connect 93 1 86 1;
#X connect 93 2 87 1;
#X connect 93 3 89 1;
#X connect 94 0 9 0;
#X connect 99 0 10 0;
#X connect 100 0 11 0;
#X connect 101 0 12 0;
#X connect 102 0 110 0;
#X connect 103 0 111 0;
#X connect 104 0 109 0;
#X connect 105 0 112 0;
#X connect 106 0 104 1;
#X connect 106 1 102 1;
#X connect 106 2 103 1;
#X connect 106 3 105 1;
#X connect 107 0 102 0;
#X connect 107 0 103 0;
#X connect 107 0 104 0;
#X connect 107 0 105 0;
#X connect 108 0 106 0;
#X connect 113 0 9 0;
#X connect 114 0 10 0;
#X connect 115 0 11 0;
#X connect 116 0 12 0;
#X connect 120 0 117 0;
#X connect 121 0 122 0;
#X connect 121 1 123 0;
#X connect 121 2 124 0;
#X connect 121 3 125 0;
#X connect 127 0 90 0;
#X connect 128 0 90 1;
#X connect 129 0 120 0;
#X connect 130 0 120 1;
#X connect 131 0 53 0;
#X connect 132 0 54 0;
#X connect 134 0 82 0;
#X connect 135 0 83 0;
#X coords 0 -1 1 1 430 320 2 100 100;
